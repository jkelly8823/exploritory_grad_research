VULNERABLE: YES
VULNERABLE_LINES: 2
VULNERABILITY_DESCRIPTION: Command Injection
EXPLANATION:
The code snippet uses `system("lookup-phone $phone");` to execute a command with the input `$phone`. If the input is not properly sanitized, an attacker could craft a malicious phone number that includes shell commands, leading to command injection. 

For instance, an attacker could submit a phone number like `123-456-7890;ls -l`. This would result in the system executing `lookup-phone 123-456-7890;ls -l`, which would list the contents of the current directory.

RECOMMENDATIONS:
* **Sanitize User Input:**  Use parameterized queries or libraries designed to safely execute commands with user-supplied data. Never directly embed user input into shell commands.
* **Limit Command Execution:**  If using `system()`, carefully restrict the allowed commands and their parameters. Consider using a whitelist approach to only allow specific, trusted commands.

ORIGINAL CODE:
```perl
$phone = GetPhoneNumber();
if ($phone =~ /\d+-\d+/) {
    # looks like it only has hyphens and digits
    system("lookup-phone $phone");
}
else {error("malformed number!");}
``` 



